<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Swipe Demo</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#7C5CFF;
    --accept:#3ad29f; --reject:#ff6b6b; --glass: rgba(255,255,255,0.04);
    font-family: Inter, ui-sans-serif, system-ui;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#07101a);color:#e6eef6}
  .wrap{min-height:100vh;display:grid;place-items:center;padding:32px}
  .stage{width:360px;max-width:92vw;height:640px;max-height:92vh;position:relative;border-radius:20px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    box-shadow:0 12px 40px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
    overflow:hidden;padding:18px;display:flex;flex-direction:column;gap:12px}
  header.controls{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:13px;padding:6px 8px}
  .cards{position:relative;flex:1;display:flex;align-items:center;justify-content:center;perspective:1200px}
  .card{width:92%;max-width:320px;height:72%;background:linear-gradient(180deg,var(--card), #071024);
    border-radius:16px;position:absolute;top:10%;left:50%;transform:translate(-50%,0);
    box-shadow:0 12px 30px rgba(2,6,23,0.7);display:flex;flex-direction:column;overflow:hidden;
    user-select:none;touch-action:none;transition:transform 260ms cubic-bezier(.2,.9,.3,1), opacity 200ms;
    -webkit-tap-highlight-color: transparent;}
  .card img{width:100%;height:55%;object-fit:cover;display:block;pointer-events:none}
  .meta{padding:12px 14px;display:flex;gap:10px}
  .info{flex:1}
  .name{font-weight:700;font-size:18px;margin-bottom:4px}
  .role{color:var(--muted);font-size:13px;margin-bottom:8px}
  .tags{font-size:12px;color:var(--muted);display:flex;gap:8px;flex-wrap:wrap}
  .tag{background:var(--glass);padding:6px 8px;border-radius:999px;font-size:12px;color:#d9e6ff}
  .actions{display:flex;gap:10px;justify-content:center;padding:10px 4px}
  .btn{border-radius:12px;padding:8px 12px;background:rgba(255,255,255,0.03);
    border:1px solid rgba(255,255,255,0.03);color:var(--muted);font-weight:600;font-size:13px}
  .btn.strong{background:linear-gradient(90deg,var(--accent),#5ed0ff);color:#07101a;box-shadow:0 6px 18px rgba(124,92,255,0.28)}
  .badge{position:absolute;top:24px;left:24px;padding:8px 12px;border-radius:8px;font-weight:800;letter-spacing:.8px;color:white;
    transform:rotate(-15deg);box-shadow:0 6px 20px rgba(0,0,0,.35);opacity:0;pointer-events:none}
  .badge.accept{background:linear-gradient(90deg,var(--accept),#2ecf9d);left:auto;right:24px;transform:rotate(15deg)}
  .card.show-accept .badge.accept,.card.show-reject .badge.reject{opacity:1}
  .card[data-index="1"]{transform:translate(-50%,12px) scale(.98);opacity:.92}
  .card[data-index="2"]{transform:translate(-50%,24px) scale(.96);opacity:.84}
  .card[data-index="3"]{transform:translate(-50%,36px) scale(.94);opacity:.76}
  .bg-orn{position:absolute;inset:auto -10% -30% auto;width:220px;height:220px;border-radius:50%;
    filter:blur(38px);opacity:.07;background:linear-gradient(135deg,var(--accent),#3dd7ff);transform:rotate(25deg)}
  .hint{font-size:12px;color:var(--muted)}
  @media (max-width:420px){ .stage{height:92vh;padding:12px} .card{height:70%} }
</style>
</head>
<body>
<div class="wrap">
  <div class="stage">
    <header class="controls">
      <strong style="font-size:14px">Nailed.it Demo</strong>
      <span class="hint">← / → / ↑</span>
    </header>

    <div class="cards" id="cards"></div>

    <div class="bg-orn"></div>
  </div>
</div>

<script>
// data
const staticProfiles = [
  {name:"Lane",role:"Tech Consultant",tags:["Computers","Tech Support"],location:"Japan",rate:"$30/hr",
   bio:"Lane, computer nerd.",image:"https://www.theringer.com/_next/image?url=https%3A%2F%2Fwp.theringer.com%2Fwp-content%2Fuploads%2F2018%2F07%2FLainAt20_Getty_PioneerLDC_Ringer-scaled.jpg&w=3840&q=75&dpl=83ad88a8f17001526cd2fadcbcbfcfea3946f7ee"},
  {name:"Sanji",role:"Temp Kitchen Worker",tags:["temporary","Food"],location:"East Sea",rate:"$22/hr",
   bio:"Chef",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSujH8L33dB2SqCRX6KAZ0XZnZesKoko7VZPA&s`"},
  {name:"Goji",role:"Demolitions Expert",tags:["Destruction","Demoloition"],location:"Japan",rate:"$25/hr",
   bio:"A demolitons expert with 71 years of experinence.",image:"https://static0.cbrimages.com/wordpress/wp-content/uploads/2024/08/240826_cbr_godzilla_godzilla-differences_h1-3.jpg?q=49&fit=contain&w=1200&h=600&dpr=2"},
  {name:"Finn",role:"Labor",tags:["Lifting"],location:"Oooooo ",rate:"$18/hr",
   bio:"Hard worker.",image:"https://i1.sndcdn.com/artworks-OJT9cgH74rT7zjsj-hIR6YA-t1080x1080.jpg"}
];

const stage = document.getElementById('cards');
let profiles = staticProfiles.slice();

function createCard(p, idx){
  const el = document.createElement('article');
  el.className = 'card';
  el.dataset.index = idx;
  el.style.zIndex = String(100 - idx); // stacking
  el.innerHTML = `
    <div class="badge reject">REJECT</div>
    <div class="badge accept">ACCEPT</div>
    <img src="${p.image}" alt="">
    <div class="meta">
      <div class="info">
        <div class="name">${p.name}</div>
        <div class="role">${p.role} · ${p.location}</div>
        <div style="display:flex;justify-content:space-between;margin-top:8px">
          <div class="tags">${(p.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('')}</div>
          <div style="font-weight:800">${p.rate}</div>
        </div>
      </div>
    </div>
    <div style="padding:12px 14px;color:var(--muted);font-size:13px">${p.bio}</div>
  `;
  enableDrag(el);
  return el;
}

function renderStack(){
  stage.innerHTML = '';
  const limit = Math.min(4, profiles.length);
  for(let i = limit - 1; i >= 0; i--){ // append deepest first
    stage.appendChild(createCard(profiles[i], i));
  }
}
renderStack();

// drag
let pointer = {startX:0,startY:0,x:0,y:0,dragging:false,card:null};

function enableDrag(card){
  const start = e => {
    const p = e.touches ? e.touches[0] : e;
    pointer.startX = p.clientX; pointer.startY = p.clientY;
    pointer.dragging = true; pointer.card = card; card.style.transition = 'none';
  };
  const move = e => {
    if(!pointer.dragging || pointer.card !== card) return;
    const p = e.touches ? e.touches[0] : e;
    pointer.x = p.clientX - pointer.startX; pointer.y = p.clientY - pointer.startY;
    const rot = pointer.x/12;
    card.style.transform = `translate(calc(-50% + ${pointer.x}px), ${pointer.y}px) rotate(${rot}deg)`;
    card.classList.toggle('show-accept', pointer.x>60);
    card.classList.toggle('show-reject', pointer.x<-60);
  };
  const end = () => {
    if(!pointer.dragging || pointer.card !== card) return;
    pointer.dragging = false; card.style.transition = 'transform 300ms';
    const {x,y} = pointer;
    if(x>120){ fly(card,'right'); acceptTop(); }
    else if(x<-120){ fly(card,'left'); rejectTop(); }
    else card.style.transform = '';
    pointer.card=null; pointer.x=pointer.y=0;
  };

  card.addEventListener('mousedown', start);
  card.addEventListener('touchstart', start, {passive:true});
  window.addEventListener('mousemove', move);
  window.addEventListener('touchmove', move, {passive:true});
  window.addEventListener('mouseup', end);
  window.addEventListener('touchend', end);
}

// fly
function fly(card, dir){
  const off = dir==='right'?window.innerWidth:-window.innerWidth;
  card.style.transform = `translate(${off}px,0) rotate(${dir==='right'?25:-25}deg)`;
  card.style.opacity = 0;
  setTimeout(()=> card.remove(), 320);
}

// accept
function acceptTop(){
  const t = profiles.shift(); profiles.push(t);
  setTimeout(renderStack, 250);
}

// reject
function rejectTop(){
  const t = profiles.shift(); profiles.push(t);
  setTimeout(renderStack, 250);
}

// buttons
document.getElementById('leftBtn').onclick = ()=> {
  const c = stage.querySelector('.card');
  if(!c) return;
  c.style.transition='300ms'; c.style.transform='translate(-150%,0) rotate(-18deg)'; c.style.opacity=0;
  setTimeout(rejectTop,250);
};
document.getElementById('rightBtn').onclick = ()=> {
  const c = stage.querySelector('.card');
  if(!c) return;
  c.style.transition='300ms'; c.style.transform='translate(150%,0) rotate(18deg)'; c.style.opacity=0;
  setTimeout(acceptTop,250);
};
document.getElementById('upBtn').onclick = ()=> {
  const c = stage.querySelector('.card');
  if(!c) return;
  c.style.transition='300ms'; c.style.transform='translate(-50%, -8%) scale(1.03)';
  setTimeout(()=> c.style.transform='', 600);
};

// keys
window.addEventListener('keydown', e=>{
  if(e.key==='ArrowLeft') leftBtn.click();
  if(e.key==='ArrowRight') rightBtn.click();
  if(e.key==='ArrowUp') upBtn.click();
});

window.addEventListener('dragstart', (e)=> e.preventDefault());
</script>
<h1> this could not have been done without the generous open source nerds at  www.geeksforgeeks.org/javascript/simple-swipe-with-vanilla-javascript/ </h1>
</body>
</html>

